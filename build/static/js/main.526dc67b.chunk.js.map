{"version":3,"sources":["components/App.js","index.js"],"names":["PredictionForm","email","setEmail","useState","homeTeam","setHomeTeam","awayTeam","setAwayTeam","prediction","setPrediction","error","setError","loading","setLoading","useEffect","script","document","createElement","src","async","onload","console","log","body","appendChild","removeChild","handlePrediction","response","axios","post","home_team","away_team","data","err","React","className","type","placeholder","value","onChange","e","target","onClick","window","FlutterwaveCheckout","public_key","tx_ref","Date","now","amount","currency","payment_options","customer","callback","paymentResponse","status","onclose","disabled","predicted_score","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"iNAyIeA,MAnIQA,KACrB,MAAOC,EAAOC,GAAYC,mBAAS,KAC5BC,EAAUC,GAAeF,mBAAS,KAClCG,EAAUC,GAAeJ,mBAAS,KAClCK,EAAYC,GAAiBN,mBAAS,OACtCO,EAAOC,GAAYR,mBAAS,KAC5BS,EAASC,GAAcV,oBAAS,GAEvCW,oBAAU,KAER,MAAMC,EAASC,SAASC,cAAc,UAQtC,OAPAF,EAAOG,IAAM,yCACbH,EAAOI,OAAQ,EACfJ,EAAOK,OAAS,KACdC,QAAQC,IAAI,2CAEdN,SAASO,KAAKC,YAAYT,GAEnB,KACLC,SAASO,KAAKE,YAAYV,KAE3B,IAGH,MAwCMW,EAAmBP,UACvB,IACE,MAAMQ,QAAiBC,IAAMC,KAAK,uDAAwD,CACxF5B,QACA6B,UAAW1B,EACX2B,UAAWzB,IAGbG,EAAckB,EAASK,MACvBnB,GAAW,GACX,MAAOoB,GACPtB,EAAS,8CACTE,GAAW,KAIf,OACEqB,IAAAjB,cAAA,OAAKkB,UAAU,mDACbD,IAAAjB,cAAA,MAAIkB,UAAU,uCAAsC,0BAEpDD,IAAAjB,cAAA,SACEmB,KAAK,QACLC,YAAY,aACZF,UAAU,yBACVG,MAAOrC,EACPsC,SAAWC,GAAMtC,EAASsC,EAAEC,OAAOH,SAGrCJ,IAAAjB,cAAA,SACEmB,KAAK,OACLC,YAAY,YACZF,UAAU,yBACVG,MAAOlC,EACPmC,SAAWC,GAAMnC,EAAYmC,EAAEC,OAAOH,SAGxCJ,IAAAjB,cAAA,SACEmB,KAAK,OACLC,YAAY,YACZF,UAAU,yBACVG,MAAOhC,EACPiC,SAAWC,GAAMjC,EAAYiC,EAAEC,OAAOH,SAGxCJ,IAAAjB,cAAA,UACEyB,QArFgBvB,UACflB,GAAUG,GAAaE,GAK5BK,EAAS,IACTE,GAAW,GAEP8B,OAAOC,oBAETD,OAAOC,oBAAoB,CACzBC,WAtCuB,kDAuCvBC,OAAQ,MAAQC,KAAKC,MACrBC,OAAQ,EACRC,SAAU,MACVC,gBAAiB,2BACjBC,SAAU,CACRnD,MAAOA,GAEToD,SAAUlC,UACuB,eAA3BmC,EAAgBC,OAElB7B,KAEAf,EAAS,2CACTE,GAAW,KAGf2C,QAAS,WACP3C,GAAW,OAIfF,EAAS,6DACTE,GAAW,KAjCXF,EAAS,4CAoFPwB,UAAU,4CACVsB,SAAU7C,GAETA,EAAU,gBAAkB,2BAG9BF,GAASwB,IAAAjB,cAAA,KAAGkB,UAAU,qBAAqBzB,GAE3CF,GACC0B,IAAAjB,cAAA,OAAKkB,UAAU,gCACbD,IAAAjB,cAAA,MAAIkB,UAAU,yBAAwB,sBACtCD,IAAAjB,cAAA,SACEiB,IAAAjB,cAAA,cAAST,EAAWsB,WAAmB,OAAII,IAAAjB,cAAA,cAAST,EAAWuB,YAEjEG,IAAAjB,cAAA,SAAG,oBAAiBiB,IAAAjB,cAAA,cAAST,EAAWkD,qB,MC7HrCC,IAASC,WAAW5C,SAAS6C,eAAe,SAEpDC,OACH5B,IAAAjB,cAACiB,IAAM6B,WAAU,KACf7B,IAAAjB,cAACjB,EAAc,U","file":"static/js/main.526dc67b.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// Replace with your actual Flutterwave public key\r\nconst FLUTTERWAVE_PUBLIC_KEY = \"FLWPUBK_TEST-72ca1dd35e632a21db39f59869e5dac2-X\"; // Use your actual public key\r\n\r\nconst PredictionForm = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [homeTeam, setHomeTeam] = useState(\"\");\r\n  const [awayTeam, setAwayTeam] = useState(\"\");\r\n  const [prediction, setPrediction] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Dynamically load the Flutterwave Checkout script\r\n    const script = document.createElement(\"script\");\r\n    script.src = \"https://checkout.flutterwave.com/v3.js\";\r\n    script.async = true;\r\n    script.onload = () => {\r\n      console.log(\"Flutterwave script loaded successfully\");\r\n    };\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    };\r\n  }, []);\r\n\r\n  // Handle Flutterwave Payment and Prediction Flow\r\n  const handlePayment = async () => {\r\n    if (!email || !homeTeam || !awayTeam) {\r\n      setError(\"⚠️ Please fill in all fields.\");\r\n      return;\r\n    }\r\n\r\n    setError(\"\");\r\n    setLoading(true);\r\n\r\n    if (window.FlutterwaveCheckout) {\r\n      // Flutterwave payment initialization\r\n      window.FlutterwaveCheckout({\r\n        public_key: FLUTTERWAVE_PUBLIC_KEY,\r\n        tx_ref: \"TX-\" + Date.now(),\r\n        amount: 4,\r\n        currency: \"USD\",\r\n        payment_options: \"card, ussd, banktransfer\",\r\n        customer: {\r\n          email: email,\r\n        },\r\n        callback: async (paymentResponse) => {\r\n          if (paymentResponse.status === \"successful\") {\r\n            // After payment success, request prediction\r\n            handlePrediction();\r\n          } else {\r\n            setError(\"⚠️ Payment failed! Try again.\");\r\n            setLoading(false);\r\n          }\r\n        },\r\n        onclose: function () {\r\n          setLoading(false);\r\n        },\r\n      });\r\n    } else {\r\n      setError(\"⚠️ Flutterwave script is not loaded. Try again.\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch AI Prediction\r\n  const handlePrediction = async () => {\r\n    try {\r\n      const response = await axios.post(\"https://nexora-football-backend.onrender.com/predict\", {\r\n        email,\r\n        home_team: homeTeam,\r\n        away_team: awayTeam,\r\n      });\r\n\r\n      setPrediction(response.data);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError(\"⚠️ Prediction failed. Try again.\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-lg mx-auto p-4 bg-white shadow-md rounded\">\r\n      <h1 className=\"text-2xl font-bold text-center mb-4\">AI Football Prediction</h1>\r\n\r\n      <input\r\n        type=\"email\"\r\n        placeholder=\"Your Email\"\r\n        className=\"w-full p-2 border mb-2\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n      />\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Home Team\"\r\n        className=\"w-full p-2 border mb-2\"\r\n        value={homeTeam}\r\n        onChange={(e) => setHomeTeam(e.target.value)}\r\n      />\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Away Team\"\r\n        className=\"w-full p-2 border mb-2\"\r\n        value={awayTeam}\r\n        onChange={(e) => setAwayTeam(e.target.value)}\r\n      />\r\n\r\n      <button\r\n        onClick={handlePayment}\r\n        className=\"w-full p-2 bg-blue-500 text-white rounded\"\r\n        disabled={loading}\r\n      >\r\n        {loading ? \"Processing...\" : \"Pay $4 & Get Prediction\"}\r\n      </button>\r\n\r\n      {error && <p className=\"text-red-500 mt-2\">{error}</p>}\r\n\r\n      {prediction && (\r\n        <div className=\"mt-4 p-2 bg-gray-100 rounded\">\r\n          <h2 className=\"text-lg font-semibold\">Prediction Result:</h2>\r\n          <p>\r\n            <strong>{prediction.home_team}</strong> vs <strong>{prediction.away_team}</strong>\r\n          </p>\r\n          <p>Predicted Score: <strong>{prediction.predicted_score}</strong></p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PredictionForm;\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport PredictionForm from \"./components/App.js\";\r\nimport \"./index.css\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\n\r\nroot.render(\r\n  <React.StrictMode>\r\n    <PredictionForm />\r\n  </React.StrictMode>\r\n);\r\n"],"sourceRoot":""}